<script setup>
const props = defineProps([
  "rewardName",
  "isUsed",
  "date",
  "programImg",
  "programName",
]);

const validity = (() => {
  if (props.isUsed) {
    return "Sudah Digunakan";
  }

  const isExpired = props.date < new Date();
  if (isExpired) {
    return "Kadaluarsa";
  }

  const day = props.date.getDate().toString().padStart(2, "0");
  const month = props.date.getMonth();
  const year = props.date.getFullYear();

  return `Exp: ${year}-${month}-${day}`;
})();
</script>

<template>
  <div class="container relative flex items-center">
    <svg
      width="300"
      height="95"
      viewBox="0 0 300 95"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      class="absolute inset-0"
    >
      <path
        d="M0.5 7.53053V0.5H140.077C140.194 3.09437 141.218 5.56175 142.965 7.41416C144.826 9.38621 147.356 10.5 150 10.5C152.644 10.5 155.174 9.38621 157.034 7.41416C158.782 5.56175 159.806 3.09437 159.923 0.5H299.5V7.53053C299.125 7.57408 298.723 7.66336 298.34 7.79283C297.787 7.97996 297.218 8.27011 296.83 8.68204C296.12 9.4341 295.726 10.4483 295.726 11.5C295.726 12.5517 296.12 13.5659 296.83 14.318C297.218 14.7299 297.787 15.02 298.34 15.2072C298.723 15.3366 299.125 15.4259 299.5 15.4695V25.5305C299.125 25.5741 298.723 25.6634 298.34 25.7928C297.787 25.98 297.218 26.2701 296.83 26.682C296.12 27.4341 295.726 28.4483 295.726 29.5C295.726 30.5517 296.12 31.5659 296.83 32.318C297.218 32.7299 297.787 33.02 298.34 33.2072C298.723 33.3366 299.125 33.4259 299.5 33.4695V43.5305C299.125 43.5741 298.723 43.6634 298.34 43.7928C297.787 43.98 297.218 44.2701 296.83 44.682C296.12 45.4341 295.726 46.4483 295.726 47.5C295.726 48.5517 296.12 49.5659 296.83 50.318C297.218 50.7299 297.787 51.02 298.34 51.2072C298.723 51.3366 299.125 51.4259 299.5 51.4695V61.5305C299.125 61.5741 298.723 61.6634 298.34 61.7928C297.787 61.98 297.218 62.2701 296.83 62.682C296.12 63.4341 295.726 64.4482 295.726 65.5C295.726 66.5518 296.12 67.5659 296.83 68.318C297.218 68.7299 297.787 69.02 298.34 69.2072C298.723 69.3366 299.125 69.4259 299.5 69.4695V79.5305C299.125 79.5741 298.723 79.6634 298.34 79.7928C297.787 79.98 297.218 80.2701 296.83 80.682C296.12 81.4341 295.726 82.4482 295.726 83.5C295.726 84.5518 296.12 85.5659 296.83 86.318C297.218 86.7299 297.787 87.02 298.34 87.2072C298.723 87.3366 299.125 87.4259 299.5 87.4695V94.5H159.923C159.806 91.9056 158.782 89.4383 157.034 87.5858C155.174 85.6138 152.644 84.5 150 84.5C147.356 84.5 144.826 85.6138 142.965 87.5858C141.218 89.4383 140.194 91.9056 140.077 94.5H0.5V87.4695C0.875414 87.4259 1.27724 87.3366 1.65972 87.2072C2.21254 87.02 2.78155 86.7299 3.17016 86.318C3.87966 85.5659 4.27358 84.5517 4.27358 83.5C4.27358 82.4483 3.87966 81.4341 3.17016 80.682C2.78155 80.2701 2.21254 79.98 1.65972 79.7928C1.27724 79.6634 0.875414 79.5741 0.5 79.5305V69.4695C0.875414 69.4259 1.27724 69.3366 1.65972 69.2072C2.21254 69.02 2.78155 68.7299 3.17016 68.318C3.87966 67.5659 4.27358 66.5517 4.27358 65.5C4.27358 64.4483 3.87966 63.4341 3.17016 62.682C2.78155 62.2701 2.21254 61.98 1.65972 61.7928C1.27724 61.6634 0.875414 61.5741 0.5 61.5305V51.4695C0.875414 51.4259 1.27724 51.3366 1.65972 51.2072C2.21254 51.02 2.78155 50.7299 3.17016 50.318C3.87966 49.5659 4.27358 48.5517 4.27358 47.5C4.27358 46.4483 3.87966 45.4341 3.17016 44.682C2.78155 44.2701 2.21254 43.98 1.65972 43.7928C1.27724 43.6634 0.875414 43.5741 0.5 43.5305V33.4695C0.875414 33.4259 1.27724 33.3366 1.65972 33.2072C2.21254 33.02 2.78155 32.7299 3.17016 32.318C3.87966 31.5659 4.27358 30.5517 4.27358 29.5C4.27358 28.4483 3.87966 27.4341 3.17016 26.682C2.78155 26.2701 2.21254 25.98 1.65972 25.7928C1.27724 25.6634 0.875414 25.5741 0.5 25.5305V15.4695C0.875414 15.4259 1.27724 15.3366 1.65972 15.2072C2.21254 15.02 2.78155 14.7299 3.17016 14.318C3.87966 13.5659 4.27358 12.5517 4.27358 11.5C4.27358 10.4483 3.87966 9.43411 3.17016 8.68204C2.78155 8.27011 2.21254 7.97996 1.65972 7.79283C1.27724 7.66337 0.875414 7.57408 0.5 7.53053Z"
        fill="white"
        stroke="#CDCDCD"
      />
    </svg>
    <div
      class="flex-1 p-3 flex flex-col items-center justify-center text-center"
    >
      <p class="text-lg text-biru1 font-semibold">{{ props.rewardName }}</p>
      <p class="text-sm text-gray">{{ validity }}</p>
    </div>
    <div class="border-l border-lightGray border-dashed divider"></div>
    <div
      class="flex-1 p-3 flex flex-col items-center justify-center text-center"
    >
      <img :src="props.programImg" alt="" />
      <p class="text-lg text-biru1 font-semibold mt-2.5">
        {{ props.programName }}
      </p>
    </div>
  </div>
</template>

<style scoped>
.container {
  width: 300px;
  height: 95px;
}

.divider {
  height: 74px;
}
</style>
